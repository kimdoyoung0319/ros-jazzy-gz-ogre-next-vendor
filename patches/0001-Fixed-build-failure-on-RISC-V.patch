From eb884e2cdd64e3f4862b9db8f1018b7acd24837b Mon Sep 17 00:00:00 2001
From: Doyoung Kim <kimdoyoung0319@gmail.com>
Date: Fri, 13 Feb 2026 22:51:20 +0900
Subject: [PATCH] Fixed build failure on RISC-V.

---
 OgreMain/include/OgreStringConverter.h | 85 ++++++++++++--------------
 OgreMain/src/OgreStringConverter.cpp   | 69 +++++++++------------
 2 files changed, 70 insertions(+), 84 deletions(-)

diff --git a/OgreMain/include/OgreStringConverter.h b/OgreMain/include/OgreStringConverter.h
index 47935b42d2..2f2cb4cdb8 100644
--- a/OgreMain/include/OgreStringConverter.h
+++ b/OgreMain/include/OgreStringConverter.h
@@ -77,86 +77,82 @@ namespace Ogre {
                                std::ios::fmtflags flags = std::ios::fmtflags(0));
 
         /** Converts a Radian to a String. */
-        static String toString(Radian val, unsigned short precision = 0, 
-            unsigned short width = 0, char fill = ' ', 
+        static String toString(Radian val, unsigned short precision = 0,
+            unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0))
         {
             return toString(val.valueAngleUnits(), precision, width, fill, flags);
         }
         /** Converts a Degree to a String. */
-        static String toString(Degree val, unsigned short precision = 0, 
-            unsigned short width = 0, char fill = ' ', 
+        static String toString(Degree val, unsigned short precision = 0,
+            unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0))
         {
             return toString(val.valueAngleUnits(), precision, width, fill, flags);
         }
         /** Converts an int to a String. */
-        static String toString(int val, unsigned short width = 0, 
-            char fill = ' ', 
+        static String toString(int val, unsigned short width = 0,
+            char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0));
 #if OGRE_PLATFORM != OGRE_PLATFORM_NACL &&  ( OGRE_ARCH_TYPE == OGRE_ARCHITECTURE_64 || OGRE_PLATFORM == OGRE_PLATFORM_APPLE || OGRE_PLATFORM == OGRE_PLATFORM_APPLE_IOS )
         /** Converts an unsigned int to a String. */
-        static String toString(unsigned int val, 
-            unsigned short width = 0, char fill = ' ', 
+        static String toString(unsigned int val,
+            unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0));
         #if OGRE_COMPILER == OGRE_COMPILER_MSVC
         /** Converts an unsigned long to a String. */
-        static String toString(unsigned long val, 
-            unsigned short width = 0, char fill = ' ', 
+        static String toString(unsigned long val,
+            unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0));
         #endif
 #else
         /** Converts an unsigned long to a String. */
-        static String toString(unsigned long val, 
-            unsigned short width = 0, char fill = ' ', 
-            std::ios::fmtflags flags = std::ios::fmtflags(0));
-#endif
-        /** Converts a size_t to a String. */
-        static String toString(size_t val,
+        static String toString(unsigned long val,
             unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0));
+#endif
         /** Converts a long to a String. */
-        static String toString(long val, 
-            unsigned short width = 0, char fill = ' ', 
+        static String toString(long val,
+            unsigned short width = 0, char fill = ' ',
             std::ios::fmtflags flags = std::ios::fmtflags(0));
-        /** Converts a boolean to a String. 
+        /** Converts a boolean to a String.
         @param yesNo If set to true, result is 'yes' or 'no' instead of 'true' or 'false'
         */
         static String toString(bool val, bool yesNo = false);
-        /** Converts a Vector2 to a String. 
+        /** Converts a Vector2 to a String.
         @remarks
             Format is "x y" (i.e. 2x Real values, space delimited)
         */
         static String toString(const Vector2& val);
-        /** Converts a Vector3 to a String. 
+        /** Converts a Vector3 to a String.
         @remarks
             Format is "x y z" (i.e. 3x Real values, space delimited)
         */
         static String toString(const Vector3& val);
-        /** Converts a Vector4 to a String. 
+        /** Converts a Vector4 to a String.
         @remarks
             Format is "x y z w" (i.e. 4x Real values, space delimited)
         */
         static String toString(const Vector4& val);
-        /** Converts a Matrix3 to a String. 
+        /** Converts a Matrix3 to a String.
         @remarks
             Format is "00 01 02 10 11 12 20 21 22" where '01' means row 0 column 1 etc.
         */
         static String toString(const Matrix3& val);
-        /** Converts a Matrix4 to a String. 
+        /** Converts a Matrix4 to a String.
         @remarks
-            Format is "00 01 02 03 10 11 12 13 20 21 22 23 30 31 32 33" where 
+            Format is "00 01 02 03 10 11 12 13 20 21 22 23 30 31 32 33" where
             '01' means row 0 column 1 etc.
         */
         static String toString(const Matrix4& val);
-        /** Converts a Quaternion to a String. 
+        /** Converts a Quaternion to a String.
         @remarks
             Format is "w x y z" (i.e. 4x Real values, space delimited)
         */
         static String toString(const Quaternion& val);
-        /** Converts a ColourValue to a String. 
+        /** Converts a ColourValue to a String.
         @remarks
-            Format is "r g b a" (i.e. 4x Real values, space delimited). 
+            Format is "r g b a" (i.e. 4x Real values, space delimited).
         */
         static String toString(const ColourValue& val);
         /** Converts a StringVector to a string.
@@ -166,47 +162,47 @@ namespace Ogre {
         */
         static String toString(const StringVector& val);
 
-        /** Converts a String to a Real. 
+        /** Converts a String to a Real.
         @return
             0.0 if the value could not be parsed, otherwise the Real version of the String.
         */
         static Real parseReal(const String& val, Real defaultValue = 0);
-        /** Converts a String to a Angle. 
+        /** Converts a String to a Angle.
         @return
             0.0 if the value could not be parsed, otherwise the Angle version of the String.
         */
         static inline Radian parseAngle(const String& val, Radian defaultValue = Radian(0)) {
             return Angle(parseReal(val, defaultValue.valueRadians()));
         }
-        /** Converts a String to a whole number. 
+        /** Converts a String to a whole number.
         @return
             0.0 if the value could not be parsed, otherwise the numeric version of the String.
         */
         static int parseInt(const String& val, int defaultValue = 0);
-        /** Converts a String to a whole number. 
+        /** Converts a String to a whole number.
         @return
             0.0 if the value could not be parsed, otherwise the numeric version of the String.
         */
         static unsigned int parseUnsignedInt(const String& val, unsigned int defaultValue = 0);
-        /** Converts a String to a whole number. 
+        /** Converts a String to a whole number.
         @return
             0.0 if the value could not be parsed, otherwise the numeric version of the String.
         */
         static long parseLong(const String& val, long defaultValue = 0);
-        /** Converts a String to a whole number. 
+        /** Converts a String to a whole number.
         @return
             0.0 if the value could not be parsed, otherwise the numeric version of the String.
         */
         static unsigned long parseUnsignedLong(const String& val, unsigned long defaultValue = 0);
-        /** Converts a String to size_t. 
+        /** Converts a String to size_t.
         @return
             defaultValue if the value could not be parsed, otherwise the numeric version of the String.
         */
         static size_t parseSizeT(const String& val, size_t defaultValue = 0);
-        /** Converts a String to a boolean. 
+        /** Converts a String to a boolean.
         @remarks
             Returns true if case-insensitive match of the start of the string
-            matches "true", "yes", "1", or "on", false if "false", "no", "0" 
+            matches "true", "yes", "1", or "on", false if "false", "no", "0"
             or "off".
         */
         static bool parseBool(const String& val, bool defaultValue = 0, bool* error = NULL);
@@ -236,17 +232,17 @@ namespace Ogre {
         static Matrix3 parseMatrix3(const String& val, const Matrix3& defaultValue = Matrix3::IDENTITY);
         /** Parses a Matrix4 out of a String.
         @remarks
-            Format is "00 01 02 03 10 11 12 13 20 21 22 23 30 31 32 33" where 
+            Format is "00 01 02 03 10 11 12 13 20 21 22 23 30 31 32 33" where
             '01' means row 0 column 1 etc. Failure to parse returns Matrix4::IDENTITY.
         */
         static Matrix4 parseMatrix4(const String& val, const Matrix4& defaultValue = Matrix4::IDENTITY);
-        /** Parses a Quaternion out of a String. 
+        /** Parses a Quaternion out of a String.
         @remarks
-            Format is "w x y z" (i.e. 4x Real values, space delimited). 
+            Format is "w x y z" (i.e. 4x Real values, space delimited).
             Failure to parse returns Quaternion::IDENTITY.
         */
         static Quaternion parseQuaternion(const String& val, const Quaternion& defaultValue = Quaternion::IDENTITY);
-        /** Parses a ColourValue out of a String. 
+        /** Parses a ColourValue out of a String.
         @remarks
             Format is "r g b a" (i.e. 4x Real values, space delimited), or "r g b" which implies
             an alpha value of 1.0 (opaque). Failure to parse returns ColourValue::Black.
@@ -285,7 +281,7 @@ namespace Ogre {
 			String input format should be "None", "Frame Sequential", etc.
 		*/
 		static StereoModeType parseStereoMode(const String& val, StereoModeType defaultValue = SMT_NONE);
-		
+
         //-----------------------------------------------------------------------
         static void setDefaultStringLocale(const String &loc)
         {
@@ -305,10 +301,10 @@ namespace Ogre {
         static String _toString(T val, uint16 width, char fill, std::ios::fmtflags flags);
         template<typename T>
         static T _fromString(const String& val, T defaultValue);
-        
+
         static String msDefaultStringLocale;
         static std::locale msLocale;
-        static bool msUseLocale;		
+        static bool msUseLocale;
     };
 
     /** @} */
@@ -319,4 +315,3 @@ namespace Ogre {
 
 
 #endif
-
diff --git a/OgreMain/src/OgreStringConverter.cpp b/OgreMain/src/OgreStringConverter.cpp
index dc0d69161b..55e10ce2bf 100644
--- a/OgreMain/src/OgreStringConverter.cpp
+++ b/OgreMain/src/OgreStringConverter.cpp
@@ -141,7 +141,7 @@ namespace Ogre {
         return stream.str();
     }
     //-----------------------------------------------------------------------
-    String StringConverter::toString(int val, 
+    String StringConverter::toString(int val,
         unsigned short width, char fill, std::ios::fmtflags flags)
     {
         return _toString(val, width, fill, flags);
@@ -155,7 +155,7 @@ namespace Ogre {
     }
 #if OGRE_COMPILER == OGRE_COMPILER_MSVC
     //-----------------------------------------------------------------------
-    String StringConverter::toString(unsigned long val, 
+    String StringConverter::toString(unsigned long val,
         unsigned short width, char fill, std::ios::fmtflags flags)
     {
         return _toString(val, width, fill, flags);
@@ -169,13 +169,6 @@ namespace Ogre {
         return _toString(val, width, fill, flags);
     }
 #endif
-    //-----------------------------------------------------------------------
-    String StringConverter::toString(size_t val,
-        unsigned short width, char fill, std::ios::fmtflags flags)
-    {
-        return _toString(val, width, fill, flags);
-    }
-    //-----------------------------------------------------------------------
     String StringConverter::toString(long val,
         unsigned short width, char fill, std::ios::fmtflags flags)
     {
@@ -244,13 +237,13 @@ namespace Ogre {
         StringStream stream;
         stream.imbue(msLocale);
         stream << val[0][0] << " "
-            << val[0][1] << " "             
-            << val[0][2] << " "             
-            << val[1][0] << " "             
-            << val[1][1] << " "             
-            << val[1][2] << " "             
-            << val[2][0] << " "             
-            << val[2][1] << " "             
+            << val[0][1] << " "
+            << val[0][2] << " "
+            << val[1][0] << " "
+            << val[1][1] << " "
+            << val[1][2] << " "
+            << val[2][0] << " "
+            << val[2][1] << " "
             << val[2][2];
         return stream.str();
 #endif
@@ -295,20 +288,20 @@ namespace Ogre {
         StringStream stream;
         stream.imbue(msLocale);
         stream << val[0][0] << " "
-            << val[0][1] << " "             
-            << val[0][2] << " "             
-            << val[0][3] << " "             
-            << val[1][0] << " "             
-            << val[1][1] << " "             
-            << val[1][2] << " "             
-            << val[1][3] << " "             
-            << val[2][0] << " "             
-            << val[2][1] << " "             
-            << val[2][2] << " "             
-            << val[2][3] << " "             
-            << val[3][0] << " "             
-            << val[3][1] << " "             
-            << val[3][2] << " "             
+            << val[0][1] << " "
+            << val[0][2] << " "
+            << val[0][3] << " "
+            << val[1][0] << " "
+            << val[1][1] << " "
+            << val[1][2] << " "
+            << val[1][3] << " "
+            << val[2][0] << " "
+            << val[2][1] << " "
+            << val[2][2] << " "
+            << val[2][3] << " "
+            << val[3][0] << " "
+            << val[3][1] << " "
+            << val[3][2] << " "
             << val[3][3];
         return stream.str();
 #endif
@@ -359,7 +352,7 @@ namespace Ogre {
             if (i != ibegin)
                 stream << " ";
 
-            stream << *i; 
+            stream << *i;
         }
         return stream.str();
     }
@@ -561,17 +554,17 @@ namespace Ogre {
                            parseReal(vec[1], defaultValue[0][1]),
                            parseReal(vec[2], defaultValue[0][2]),
                            parseReal(vec[3], defaultValue[0][3]),
-                           
+
                            parseReal(vec[4], defaultValue[1][0]),
                            parseReal(vec[5], defaultValue[1][1]),
                            parseReal(vec[6], defaultValue[1][2]),
                            parseReal(vec[7], defaultValue[1][3]),
-                           
+
                            parseReal(vec[8], defaultValue[2][0]),
                            parseReal(vec[9], defaultValue[2][1]),
                            parseReal(vec[10], defaultValue[2][2]),
                            parseReal(vec[11], defaultValue[2][3]),
-                           
+
                            parseReal(vec[12], defaultValue[3][0]),
                            parseReal(vec[13], defaultValue[3][1]),
                            parseReal(vec[14], defaultValue[3][2]),
@@ -696,8 +689,8 @@ namespace Ogre {
 		else if (val.compare("Back Right") == 0)
 		{
 			result = CBT_BACK_RIGHT;
-		}		
-		
+		}
+
 		return result;
     }
     //-----------------------------------------------------------------------
@@ -730,10 +723,8 @@ namespace Ogre {
 		{
 			result = SMT_FRAME_SEQUENTIAL;
 		}
-		
+
 		return result;
     }
 	//-----------------------------------------------------------------------
 }
-
-
-- 
2.43.0

